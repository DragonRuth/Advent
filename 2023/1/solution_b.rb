print File.read('input.txt').split("\n").map{ |line| [line[/\d|one|two|three|four|five|six|seven|eight|nine/], line.reverse[/\d|enin|thgie|neves|xis|evif|ruof|eerht|owt|eno/].reverse ].reject(&:empty?).map{ |digit| digit  =~ /\A\d+\z/ ? digit : (["one","two","three","four","five","six","seven","eight","nine"].find_index(digit) + 1).to_s }}.map{ |array| (array.first + array.last).to_i}.sum()
